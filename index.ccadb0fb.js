const e=document.querySelector(".search-form"),t=document.querySelector(".gallery"),r=document.querySelector(".load-more"),a=new PixabayAPI;let i=new SimpleLightbox(".gallery a");e.addEventListener("submit",(function(e){e.preventDefault(),t.innerHTML="",r.classList.add("is-hidden");const o=e.currentTarget.elements.searchQuery.value.trim();if(a.q=o,!o)return void Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again.");!async function(){try{const{data:e}=await a.fetchImgs();if(0===e.totalHits)return void Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again.");t.innerHTML=createGallery(e.hits),Notiflix.Notify.success(`Hooray! We found ${e.totalHits} images.`),i.refresh(),e.totalHits>a.per_page&&r.classList.remove("is-hidden")}catch(e){console.log(e)}}()})),r.addEventListener("click",(function(){a.page+=1,async function(){try{const{data:e}=await a.fetchImgs();if(t.insertAdjacentHTML("beforeend",createGallery(e.hits)),i.refresh(),e.hits.length<a.per_page)r.classList.add("is-hidden"),Notiflix.Notify.info("We're sorry, but you've reached the end of search results.")}catch(e){console.log(e)}}()}));
//# sourceMappingURL=index.ccadb0fb.js.map
